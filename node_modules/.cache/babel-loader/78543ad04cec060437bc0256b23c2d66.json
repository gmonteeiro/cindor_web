{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\nimport api from '../../services/api';\nimport './styles.css';\nimport logoImg from \"../../assets/logo.svg\";\nexport default function Profile() {\n  const [incidents, setIncidents] = useState([]);\n  const history = useHistory();\n  const ongName = localStorage.getItem('ongName');\n  const ongId = localStorage.getItem('ongId'); // primeiro parametro é uma função. \n  // Segundo parâmetro define quando essa funcao vai ser executada\n  // se deixar vazio ela sera executada quando carregar a pagina\n\n  useEffect(() => {\n    api.get('', {\n      headers: {\n        Authorization: ongId\n      }\n    }).then(response => {\n      console.log(response); //setIncidents(response.data);\n    });\n  }, [ongId]); // async function handleDeleteIncident(id){\n  //     try{\n  //         await api.delete(`incidents/${id}`, {\n  //             headers: {\n  //                 Authorization: ongId\n  //             }\n  //         });\n  //         setIncidents(incidents.filter(incident => incident.id !== id));\n  //     } catch(err){\n  //         alert('Erro ao deletar caso, tente novamente.');\n  //     }\n  // }\n  // function handleLogout(){\n  //     localStorage.clear();\n  //     history.push('/');\n  // }    \n  // return (\n  //     <div className=\"profile-container\">\n  //         <header>\n  //             <img src={ logoImg } alt=\"Be the Hero\"/>\n  //             <span>Bem vinda, { ongName }</span>\n  //             <Link className=\"button\" to=\"/incidents/new\">Cadastrar novo caso</Link>\n  //             <button onClick={handleLogout} type=\"button\">\n  //                 <FiPower size={18} color=\"#E02041\" />\n  //             </button>\n  //         </header>\n  //         <h1>Casos Cadastrados</h1>\n  //         <ul>\n  //             {incidents.map(incident => (\n  //                 <li key={incident.id}>\n  //                     <strong>CASO:</strong>\n  //                     <p>{incident.title}</p>\n  //                     <strong>DESCRIÇÃO:</strong>\n  //                     <p>{incident.description}</p>\n  //                     <strong>VALOR:</strong>\n  //                     <p>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(incident.value)}</p>\n  //                     <button onClick={ () => handleDeleteIncident(incident.id) } type=\"button\">\n  //                         <FiTrash2 size={20} color=\"#a8a8b3\"/>\n  //                     </button>\n  //                 </li>\n  //             ))}\n  //         </ul>\n  //     </div>\n  // )\n}","map":{"version":3,"sources":["/Users/gmonteiro/Documents/git/cindor_web/src/pages/Profile/index.js"],"names":["React","useEffect","useState","Link","useHistory","FiPower","FiTrash2","api","Profile","incidents","setIncidents","history","ongName","localStorage","getItem","ongId","get","headers","Authorization","then","response","console","log"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,gBAAlC;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAO,cAAP;;AAGA,eAAe,SAASC,OAAT,GAAkB;AAC7B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAMS,OAAO,GAAGP,UAAU,EAA1B;AAEA,QAAMQ,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAhB;AACA,QAAMC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAN6B,CAQ7B;AACA;AACA;;AACAb,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,GAAG,CAACS,GAAJ,CAAQ,EAAR,EAAY;AACRC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAEH;AADV;AADD,KAAZ,EAIGI,IAJH,CAIQC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADgB,CAEhB;AACH,KAPD;AAQH,GATQ,EASN,CAACL,KAAD,CATM,CAAT,CAX6B,CAsB7B;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\n\nimport api from '../../services/api';\nimport './styles.css';\nimport logoImg from '../../assets/logo.svg';\n\nexport default function Profile(){\n    const [incidents, setIncidents] = useState([]);\n\n    const history = useHistory();\n\n    const ongName = localStorage.getItem('ongName');\n    const ongId = localStorage.getItem('ongId');\n\n    // primeiro parametro é uma função. \n    // Segundo parâmetro define quando essa funcao vai ser executada\n    // se deixar vazio ela sera executada quando carregar a pagina\n    useEffect(() => {\n        api.get('', {\n            headers: {\n                Authorization: ongId\n            }\n        }).then(response => {\n            console.log(response);\n            //setIncidents(response.data);\n        })\n    }, [ongId]); \n\n    // async function handleDeleteIncident(id){\n    //     try{\n    //         await api.delete(`incidents/${id}`, {\n    //             headers: {\n    //                 Authorization: ongId\n    //             }\n    //         });\n\n    //         setIncidents(incidents.filter(incident => incident.id !== id));\n    //     } catch(err){\n    //         alert('Erro ao deletar caso, tente novamente.');\n    //     }\n    // }\n\n    // function handleLogout(){\n    //     localStorage.clear();\n    //     history.push('/');\n    // }    \n\n    // return (\n    //     <div className=\"profile-container\">\n    //         <header>\n    //             <img src={ logoImg } alt=\"Be the Hero\"/>\n    //             <span>Bem vinda, { ongName }</span>\n\n    //             <Link className=\"button\" to=\"/incidents/new\">Cadastrar novo caso</Link>\n    //             <button onClick={handleLogout} type=\"button\">\n    //                 <FiPower size={18} color=\"#E02041\" />\n    //             </button>\n    //         </header>\n\n    //         <h1>Casos Cadastrados</h1>\n\n    //         <ul>\n    //             {incidents.map(incident => (\n    //                 <li key={incident.id}>\n    //                     <strong>CASO:</strong>\n    //                     <p>{incident.title}</p>\n\n    //                     <strong>DESCRIÇÃO:</strong>\n    //                     <p>{incident.description}</p>\n\n    //                     <strong>VALOR:</strong>\n    //                     <p>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(incident.value)}</p>\n\n    //                     <button onClick={ () => handleDeleteIncident(incident.id) } type=\"button\">\n    //                         <FiTrash2 size={20} color=\"#a8a8b3\"/>\n    //                     </button>\n    //                 </li>\n    //             ))}\n    //         </ul>\n    //     </div>\n    // )\n}"]},"metadata":{},"sourceType":"module"}